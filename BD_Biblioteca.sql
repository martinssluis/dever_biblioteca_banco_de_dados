
/*CRIANDO BANCO DE DADOS BIBLIOTECA*/
CREATE DATABASE BIBLIOTECA;
USE BIBLIOTECA;


/*CRIANDO AS TABELAS*/
CREATE TABLE LIVRO(
	IDLIVRO INT(4) PRIMARY KEY NOT NULL,
	TITULO VARCHAR (20) NOT NULL,
	AUTOR VARCHAR (20),
	PRECO  DECIMAL (6,2)
);

CREATE TABLE LEITOR(
	IDLEITOR INT(4) PRIMARY KEY NOT NULL,
	NOME VARCHAR (20) NOT NULL,
	CX_POSTAL INT(4),
	CIDADE VARCHAR (20)
);

CREATE TABLE REQUISICAO (
	ID_LIVRO INT(4),
	ID_LEITOR INT(4),
	DT_REQUISICAO DATE,
	DT_ENTREGA DATE,
	FOREIGN KEY (ID_LIVRO) REFERENCES LIVRO(IDLIVRO),
	FOREIGN KEY (ID_LEITOR) REFERENCES LEITOR(IDLEITOR)
);


/* FAZENDO AS INSERÇÕES NA TABELA LIVRO */ 
INSERT INTO LIVRO (IDLIVRO, TITULO, AUTOR, PRECO)
VALUES
		(100,'Os Maias','Eca de Queiroz',1100.00),
		(110,'Os Lusíadas','Luís de Camões',490.00),
		(120,'A Selva','Ferreira de Castro',700.00),
		(130,'A Capital','Eca de Queiroz',1050.00),
		(140,'Terra Fria','Ferreira de Castro',850.00),
		(150,'A Relíquia','Eca de Queiroz',900.00);
select * from LIVRO;

/* FAZENDO AS INSERÇÕES NA TABELA LEITOR */ 
INSERT INTO LEITOR (IDLEITOR, NOME, CX_POSTAL, CIDADE)
VALUES
		(1,'António',1000,'Lisboa'),
		(2,'Chico',4000,'Porto'),
		(3,'Marina',1100,'Lisboa'),
		(4,'Zeca',4100,'Porto'),
		(5,'Manuel',4400,'Gaia'),
		(6,'Mafalda',4470,'Matosinhos'),
		(7,'Rui',1200,'Lisboa');
select * from leitor;

/* FAZENDO AS INSERÇÕES NA TABELA REQUISICAO */ 
		INSERT INTO REQUISICAO (ID_LIVRO, ID_LEITOR, DT_REQUISICAO, DT_ENTREGA)
VALUES
		(100,1,'95-01-01','95-02-06'),
		(110,2,'95-01-05','95-03-05'),
		(120,2,'95-02-15','95-02-25'),
		(100,3,'95-03-10','95-03-20'),
		(130,6,'95-06-15',NULL),
		(140,5,'95-04-15','95-05-02'),
		(100,1,'95-04-30','95-05-08'),
		(110,4,'95-04-21','95-04-26'),
		(150,6,'95-06-30','95-07-08'),
		(130,5,'95-07-04','95-07-12');
select * from requisicao;

